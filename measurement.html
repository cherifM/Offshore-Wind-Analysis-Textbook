<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Measurements - Offshore Wind Analysis Textbook</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
</head>
<body>
    <nav class="nav-main">
        <a href="index.html">Home</a>
        <a href="theory.html">Theory</a>
        <a href="measurement.html" class="active">Measurements</a>
        <a href="modeling.html">Modeling</a>
        <a href="data-processing.html">Data Processing</a>
        <a href="case-studies.html">Case Studies</a>
        <a href="advanced-topics.html">Advanced Topics</a>
        <a href="calculators.html">Calculators</a>
        <a href="exercises.html">Exercises</a>
        <a href="formulas.html">Formulas</a>
        <a href="glossary.html">Glossary</a>
        <a href="references.html">References</a>
        <a href="datasets.html">Datasets</a>
    </nav>

    <div class="header">
        <h1>üì° Measurement Techniques & Instrumentation</h1>
        <p>Comprehensive Guide to Offshore Wind Measurements</p>
    </div>

    <div class="container">
        <!-- Chapter Overview -->
        <div class="section">
            <h2>üìö Chapter Overview</h2>
            <div class="card-grid">
                <div class="card">
                    <h3>Fixed Platforms</h3>
                    <ul>
                        <li><a href="#met-masts">Meteorological Masts</a></li>
                        <li><a href="#platforms">Offshore Platforms</a></li>
                        <li><a href="#buoys">Floating Buoys</a></li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Remote Sensing</h3>
                    <ul>
                        <li><a href="#lidar">LiDAR Systems</a></li>
                        <li><a href="#sodar">SODAR Technology</a></li>
                        <li><a href="#satellite">Satellite Observations</a></li>
                    </ul>
                </div>
                <div class="card">
                    <h3>Data Systems</h3>
                    <ul>
                        <li><a href="#sensors">Sensor Types</a></li>
                        <li><a href="#calibration">Calibration Methods</a></li>
                        <li><a href="#quality">Quality Control</a></li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 1: Meteorological Masts -->
        <div class="section" id="met-masts">
            <h2>1. Meteorological Masts</h2>
            
            <div class="info-box">
                <strong>Industry Standard:</strong> IEC 61400-12-1 defines requirements for wind resource assessment using met masts. Typical offshore installations range from 80-120m height.
            </div>

            <h3>1.1 Design Considerations</h3>
            <div class="plot-grid">
                <div class="plot-box">
                    <h4>Typical Mast Configuration</h4>
                    <canvas id="mastConfig"></canvas>
                </div>
                <div class="plot-box">
                    <h4>Foundation Types</h4>
                    <table class="table">
                        <tr>
                            <th>Type</th>
                            <th>Water Depth</th>
                            <th>Cost Index</th>
                        </tr>
                        <tr>
                            <td>Monopile</td>
                            <td>0-30m</td>
                            <td>1.0</td>
                        </tr>
                        <tr>
                            <td>Jacket</td>
                            <td>20-50m</td>
                            <td>1.5-2.0</td>
                        </tr>
                        <tr>
                            <td>Floating</td>
                            <td>>50m</td>
                            <td>2.0-3.0</td>
                        </tr>
                    </table>
                </div>
            </div>

            <h3>1.2 Boom Mounting</h3>
            <div class="warning-box">
                <strong>IEC Guidelines for Boom Mounting:</strong>
                <ul>
                    <li>Boom length ‚â• 4-6 √ó mast diameter</li>
                    <li>Prevailing wind direction orientation</li>
                    <li>45¬∞ separation between booms at same height</li>
                    <li>Vertical separation ‚â• 10m between measurement levels</li>
                </ul>
            </div>

            <h3>1.3 Flow Distortion Effects</h3>
            <canvas id="flowDistortion"></canvas>
            
            <div class="formula">
                Flow distortion correction factor:<br>
                CF = 1 + a √ó (D/L)^b √ó cos^c(Œ∏)<br>
                where D = mast diameter, L = boom length, Œ∏ = wind angle
            </div>
        </div>

        <!-- Section 2: Offshore Platforms -->
        <div class="section" id="platforms">
            <h2>2. Offshore Measurement Platforms</h2>
            
            <h3>2.1 Platform Types</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>Fixed Platforms</h4>
                    <ul>
                        <li>Oil & gas platforms (repurposed)</li>
                        <li>Purpose-built met stations</li>
                        <li>Lighthouse conversions</li>
                    </ul>
                    <p><strong>Advantages:</strong> Stable, power available, multi-height</p>
                    <p><strong>Disadvantages:</strong> Expensive, limited locations</p>
                </div>
                <div class="card">
                    <h4>Jack-up Platforms</h4>
                    <ul>
                        <li>Mobile, self-elevating</li>
                        <li>Suitable for 5-50m depth</li>
                        <li>Campaign measurements</li>
                    </ul>
                    <p><strong>Advantages:</strong> Reusable, flexible deployment</p>
                    <p><strong>Disadvantages:</strong> Weather windows, costly mobilization</p>
                </div>
                <div class="card">
                    <h4>Semi-submersible</h4>
                    <ul>
                        <li>Deep water capability</li>
                        <li>Motion compensation needed</li>
                        <li>Research vessels</li>
                    </ul>
                    <p><strong>Advantages:</strong> Any water depth</p>
                    <p><strong>Disadvantages:</strong> Motion effects, very expensive</p>
                </div>
            </div>

            <h3>2.2 Measurement Setup</h3>
            <canvas id="platformSetup"></canvas>
        </div>

        <!-- Section 3: Floating Buoys -->
        <div class="section" id="buoys">
            <h2>3. Floating Measurement Buoys</h2>
            
            <h3>3.1 Buoy Systems</h3>
            <div class="plot-grid">
                <div class="plot-box">
                    <h4>Motion Characteristics</h4>
                    <canvas id="buoyMotion"></canvas>
                </div>
                <div class="plot-box">
                    <h4>Measurement Heights</h4>
                    <p>Typical buoy measurements:</p>
                    <ul>
                        <li>Wind: 4-5m above sea level</li>
                        <li>Waves: Accelerometers</li>
                        <li>Current: ADCP</li>
                        <li>Met: 2-3m height</li>
                    </ul>
                </div>
            </div>

            <h3>3.2 Motion Compensation</h3>
            <div class="info-box">
                <strong>Correction Methods:</strong>
                <ul>
                    <li>Inertial Measurement Unit (IMU) for tilt correction</li>
                    <li>GPS for horizontal displacement</li>
                    <li>Spectral filtering for wave-induced motion</li>
                    <li>Platform-motion correction algorithms</li>
                </ul>
            </div>

            <table class="table">
                <tr>
                    <th>Buoy Type</th>
                    <th>Size</th>
                    <th>Stability</th>
                    <th>Cost</th>
                    <th>Applications</th>
                </tr>
                <tr>
                    <td>3m Discus</td>
                    <td>Small</td>
                    <td>Moderate</td>
                    <td>$</td>
                    <td>Coastal, short-term</td>
                </tr>
                <tr>
                    <td>6m NOMAD</td>
                    <td>Medium</td>
                    <td>Good</td>
                    <td>$$</td>
                    <td>Open ocean, long-term</td>
                </tr>
                <tr>
                    <td>10m Discus</td>
                    <td>Large</td>
                    <td>Excellent</td>
                    <td>$$$</td>
                    <td>Harsh conditions</td>
                </tr>
                <tr>
                    <td>Spar Buoy</td>
                    <td>Tall</td>
                    <td>Very Good</td>
                    <td>$$$$</td>
                    <td>Multi-height wind</td>
                </tr>
            </table>
        </div>

        <!-- Section 4: LiDAR Systems -->
        <div class="section" id="lidar">
            <h2>4. LiDAR (Light Detection and Ranging)</h2>
            
            <h3>4.1 LiDAR Principles</h3>
            <div class="info-box">
                <strong>Operating Principle:</strong> Measures Doppler shift of laser light scattered by aerosols to determine wind speed at various heights.
            </div>

            <div class="plot-grid">
                <div class="plot-box">
                    <h4>Measurement Geometry</h4>
                    <canvas id="lidarGeometry"></canvas>
                </div>
                <div class="plot-box">
                    <h4>VAD Scanning Pattern</h4>
                    <canvas id="vadPattern"></canvas>
                </div>
            </div>

            <h3>4.2 Types of LiDAR</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>Pulsed LiDAR</h4>
                    <ul>
                        <li>Range: 40-300m</li>
                        <li>Heights: 10+ simultaneous</li>
                        <li>Accuracy: ¬±0.1 m/s</li>
                    </ul>
                    <p><strong>Examples:</strong> Leosphere WindCube, ZX Lidars</p>
                </div>
                <div class="card">
                    <h4>Continuous Wave</h4>
                    <ul>
                        <li>Range: 10-200m</li>
                        <li>Heights: Sequential</li>
                        <li>Accuracy: ¬±0.1 m/s</li>
                    </ul>
                    <p><strong>Examples:</strong> ZephIR</p>
                </div>
                <div class="card">
                    <h4>Scanning LiDAR</h4>
                    <ul>
                        <li>Range: 5-10km</li>
                        <li>3D wind field</li>
                        <li>Complex flows</li>
                    </ul>
                    <p><strong>Examples:</strong> Leosphere WindCube Scan</p>
                </div>
            </div>

            <h3>4.3 Floating LiDAR Systems (FLS)</h3>
            <div class="warning-box">
                <strong>Key Considerations for FLS:</strong>
                <ul>
                    <li>Motion compensation algorithms required</li>
                    <li>Data availability typically 90-95% (vs 98%+ onshore)</li>
                    <li>Validation against fixed references essential</li>
                    <li>IEA Wind Task 32 recommendations for best practices</li>
                </ul>
            </div>

            <canvas id="flsValidation"></canvas>
        </div>

        <!-- Section 5: SODAR Technology -->
        <div class="section" id="sodar">
            <h2>5. SODAR (Sonic Detection and Ranging)</h2>
            
            <h3>5.1 SODAR Principles</h3>
            <p>SODAR uses sound waves to measure wind profiles through Doppler shift of acoustic backscatter from temperature fluctuations.</p>
            
            <div class="plot-grid">
                <div class="plot-box">
                    <h4>Beam Configuration</h4>
                    <canvas id="sodarBeams"></canvas>
                </div>
                <div class="plot-box">
                    <h4>Range vs Frequency</h4>
                    <table class="table">
                        <tr>
                            <th>Frequency</th>
                            <th>Max Range</th>
                            <th>Resolution</th>
                        </tr>
                        <tr>
                            <td>4500 Hz</td>
                            <td>50-100m</td>
                            <td>5m</td>
                        </tr>
                        <tr>
                            <td>2000 Hz</td>
                            <td>200-400m</td>
                            <td>10m</td>
                        </tr>
                        <tr>
                            <td>1000 Hz</td>
                            <td>500-1000m</td>
                            <td>20m</td>
                        </tr>
                    </table>
                </div>
            </div>

            <h3>5.2 Advantages and Limitations</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>‚úÖ Advantages</h4>
                    <ul>
                        <li>No moving parts</li>
                        <li>Lower cost than LiDAR</li>
                        <li>Good for lower heights</li>
                        <li>Robust operation</li>
                    </ul>
                </div>
                <div class="card">
                    <h4>‚ùå Limitations</h4>
                    <ul>
                        <li>Noise pollution</li>
                        <li>Rain/fog interference</li>
                        <li>Limited range offshore</li>
                        <li>Fixed echo contamination</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 6: Satellite Observations -->
        <div class="section" id="satellite">
            <h2>6. Satellite Wind Measurements</h2>
            
            <h3>6.1 Scatterometry</h3>
            <div class="info-box">
                <strong>Principle:</strong> Measures sea surface roughness via microwave backscatter, relating to wind speed and direction at 10m height.
            </div>

            <div class="plot-grid">
                <div class="plot-box">
                    <h4>Satellite Coverage</h4>
                    <canvas id="satelliteCoverage"></canvas>
                </div>
                <div class="plot-box">
                    <h4>Accuracy vs In-Situ</h4>
                    <canvas id="satelliteAccuracy"></canvas>
                </div>
            </div>

            <h3>6.2 Available Satellite Products</h3>
            <table class="table">
                <tr>
                    <th>Satellite</th>
                    <th>Sensor</th>
                    <th>Resolution</th>
                    <th>Swath</th>
                    <th>Revisit</th>
                </tr>
                <tr>
                    <td>Sentinel-1</td>
                    <td>SAR</td>
                    <td>1-3 km</td>
                    <td>250 km</td>
                    <td>6 days</td>
                </tr>
                <tr>
                    <td>ASCAT</td>
                    <td>Scatterometer</td>
                    <td>12.5-25 km</td>
                    <td>2√ó550 km</td>
                    <td>Daily</td>
                </tr>
                <tr>
                    <td>WindSat</td>
                    <td>Polarimetric radiometer</td>
                    <td>25 km</td>
                    <td>1000 km</td>
                    <td>Daily</td>
                </tr>
                <tr>
                    <td>SMAP</td>
                    <td>L-band radiometer</td>
                    <td>40 km</td>
                    <td>1000 km</td>
                    <td>3 days</td>
                </tr>
            </table>

            <h3>6.3 SAR Wind Retrieval</h3>
            <div class="formula">
                CMOD5 GMF: œÉ‚ÇÄ = B‚ÇÄ(V,Œ∏)[1 + B‚ÇÅ(V,Œ∏)cos(œÜ) + B‚ÇÇ(V,Œ∏)cos(2œÜ)]^1.6<br>
                where œÉ‚ÇÄ = NRCS, V = wind speed, Œ∏ = incidence angle, œÜ = wind direction
            </div>
        </div>

        <!-- Section 7: Sensor Types -->
        <div class="section" id="sensors">
            <h2>7. Meteorological Sensors</h2>
            
            <h3>7.1 Wind Speed Sensors</h3>
            <div class="card-grid">
                <div class="card">
                    <h4>Cup Anemometer</h4>
                    <ul>
                        <li>Range: 0-60 m/s</li>
                        <li>Accuracy: ¬±0.1 m/s</li>
                        <li>Standard: IEC 61400-12-1 Class 1</li>
                    </ul>
                    <p><strong>Calibration:</strong> Wind tunnel every 2 years</p>
                </div>
                <div class="card">
                    <h4>Sonic Anemometer</h4>
                    <ul>
                        <li>Range: 0-65 m/s</li>
                        <li>Accuracy: ¬±0.01 m/s</li>
                        <li>3D measurements</li>
                    </ul>
                    <p><strong>Advantages:</strong> No moving parts, turbulence</p>
                </div>
                <div class="card">
                    <h4>Propeller Vane</h4>
                    <ul>
                        <li>Combined speed/direction</li>
                        <li>Good for icing conditions</li>
                        <li>Lower accuracy</li>
                    </ul>
                    <p><strong>Use:</strong> Backup systems</p>
                </div>
            </div>

            <h3>7.2 Other Meteorological Sensors</h3>
            <table class="table">
                <tr>
                    <th>Parameter</th>
                    <th>Sensor Type</th>
                    <th>Range</th>
                    <th>Accuracy</th>
                    <th>Notes</th>
                </tr>
                <tr>
                    <td>Temperature</td>
                    <td>PT100/PT1000</td>
                    <td>-40 to +60¬∞C</td>
                    <td>¬±0.1¬∞C</td>
                    <td>Radiation shield required</td>
                </tr>
                <tr>
                    <td>Pressure</td>
                    <td>Capacitive</td>
                    <td>800-1100 hPa</td>
                    <td>¬±0.5 hPa</td>
                    <td>Temperature compensated</td>
                </tr>
                <tr>
                    <td>Humidity</td>
                    <td>Capacitive polymer</td>
                    <td>0-100% RH</td>
                    <td>¬±2% RH</td>
                    <td>Salt protection needed</td>
                </tr>
                <tr>
                    <td>Precipitation</td>
                    <td>Optical/Impact</td>
                    <td>0-200 mm/hr</td>
                    <td>¬±5%</td>
                    <td>Heating for snow/ice</td>
                </tr>
                <tr>
                    <td>Solar Radiation</td>
                    <td>Pyranometer</td>
                    <td>0-2000 W/m¬≤</td>
                    <td>¬±2%</td>
                    <td>Horizontal/tilted</td>
                </tr>
            </table>

            <h3>7.3 Ocean Sensors</h3>
            <canvas id="oceanSensors"></canvas>
        </div>

        <!-- Section 8: Calibration -->
        <div class="section" id="calibration">
            <h2>8. Calibration and Maintenance</h2>
            
            <h3>8.1 Calibration Standards</h3>
            <div class="info-box">
                <strong>Key Standards:</strong>
                <ul>
                    <li>IEC 61400-12-1: Power performance measurements</li>
                    <li>ISO 17025: Calibration laboratory requirements</li>
                    <li>MEASNET: Anemometer calibration procedures</li>
                    <li>IEA Wind Recommended Practices</li>
                </ul>
            </div>

            <h3>8.2 Calibration Schedule</h3>
            <table class="table">
                <tr>
                    <th>Instrument</th>
                    <th>Pre-deployment</th>
                    <th>In-field</th>
                    <th>Post-campaign</th>
                </tr>
                <tr>
                    <td>Cup Anemometer</td>
                    <td>Wind tunnel</td>
                    <td>6-month check</td>
                    <td>Wind tunnel</td>
                </tr>
                <tr>
                    <td>Wind Vane</td>
                    <td>Alignment check</td>
                    <td>Visual inspection</td>
                    <td>Bench test</td>
                </tr>
                <tr>
                    <td>Temperature</td>
                    <td>Ice bath/oven</td>
                    <td>Comparison</td>
                    <td>Lab calibration</td>
                </tr>
                <tr>
                    <td>Pressure</td>
                    <td>Pressure chamber</td>
                    <td>Sea level check</td>
                    <td>Factory cal</td>
                </tr>
            </table>

            <h3>8.3 Maintenance Challenges Offshore</h3>
            <div class="warning-box">
                <strong>Common Issues:</strong>
                <ul>
                    <li>Salt accumulation on sensors</li>
                    <li>Bird strikes and nesting</li>
                    <li>Bearing wear from continuous operation</li>
                    <li>Cable damage from UV and flexing</li>
                    <li>Lightning strikes</li>
                    <li>Biofouling on underwater sensors</li>
                </ul>
            </div>
        </div>

        <!-- Section 9: Quality Control -->
        <div class="section" id="quality">
            <h2>9. Data Quality Control</h2>
            
            <h3>9.1 QC Procedures</h3>
            <div class="plot-grid">
                <div class="plot-box">
                    <h4>Range Test Example</h4>
                    <canvas id="rangeTest"></canvas>
                </div>
                <div class="plot-box">
                    <h4>Spike Detection</h4>
                    <canvas id="spikeTest"></canvas>
                </div>
            </div>

            <h3>9.2 Quality Flags</h3>
            <table class="table">
                <tr>
                    <th>Flag</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
                <tr>
                    <td>0</td>
                    <td>Good data</td>
                    <td>Use normally</td>
                </tr>
                <tr>
                    <td>1</td>
                    <td>Questionable</td>
                    <td>Use with caution</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bad data</td>
                    <td>Exclude from analysis</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Missing</td>
                    <td>Gap filling if needed</td>
                </tr>
            </table>

            <h3>9.3 Uncertainty Analysis</h3>
            <div class="formula">
                Combined uncertainty:<br>
                u_c = ‚àö(u_cal¬≤ + u_mount¬≤ + u_class¬≤ + u_op¬≤)<br>
                where u = uncertainty components
            </div>
        </div>

        <!-- Summary -->
        <div class="section">
            <h2>üìù Chapter Summary</h2>
            <div class="success-box">
                <h3>Key Measurement Principles:</h3>
                <ul>
                    <li>Multiple measurement systems provide redundancy and validation</li>
                    <li>Each technology has specific strengths and limitations</li>
                    <li>Proper calibration and maintenance are essential for data quality</li>
                    <li>Motion compensation is critical for floating systems</li>
                    <li>Quality control procedures must be rigorous and documented</li>
                    <li>Uncertainty quantification is required for all measurements</li>
                </ul>
            </div>

            <div class="info-box">
                <h3>Best Practices:</h3>
                <ul>
                    <li>Follow IEC standards for instrumentation and mounting</li>
                    <li>Implement redundant measurements at key heights</li>
                    <li>Document all calibrations and maintenance</li>
                    <li>Use validated correction algorithms for floating systems</li>
                    <li>Regular data quality checks and validation</li>
                    <li>Consider measurement uncertainty in all analyses</li>
                </ul>
            </div>
        </div>
        <!-- Section 10: Detailed Equipment Specifications -->
        <div class="section" id="equipment-specs">
            <h2>10. Detailed Equipment Specifications & Photos</h2>
            
            <h3>10.1 Cup Anemometers</h3>
            <div class="equipment-grid">
                <div class="equipment-card">
                    <h4>Thies First Class Advanced</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üåÄ Cup Anemometer</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Range:</td><td>0.3-75 m/s</td></tr>
                        <tr><td>Accuracy:</td><td>¬±0.1 m/s or 1%</td></tr>
                        <tr><td>Starting threshold:</td><td>0.3 m/s</td></tr>
                        <tr><td>Distance constant:</td><td>2.3 m</td></tr>
                        <tr><td>Operating temp:</td><td>-50 to +80¬∞C</td></tr>
                        <tr><td>Output:</td><td>Pulse, 4-20mA, RS485</td></tr>
                        <tr><td>Protection:</td><td>IP65, heated version available</td></tr>
                        <tr><td>Calibration:</td><td>MEASNET certified</td></tr>
                        <tr><td>Price range:</td><td>‚Ç¨1,500-2,500</td></tr>
                    </table>
                </div>
                
                <div class="equipment-card">
                    <h4>Vector A100LK</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üåÄ Professional Anemometer</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Range:</td><td>0.2-75 m/s</td></tr>
                        <tr><td>Accuracy:</td><td>¬±0.1 m/s</td></tr>
                        <tr><td>Starting threshold:</td><td>0.15 m/s</td></tr>
                        <tr><td>Distance constant:</td><td>2.7 m</td></tr>
                        <tr><td>Material:</td><td>Carbon fiber cups</td></tr>
                        <tr><td>Bearings:</td><td>Dual ball bearings</td></tr>
                        <tr><td>MTBF:</td><td>>10 years</td></tr>
                        <tr><td>Weight:</td><td>0.5 kg</td></tr>
                    </table>
                </div>
            </div>

            <h3>10.2 Ultrasonic Anemometers</h3>
            <div class="equipment-grid">
                <div class="equipment-card">
                    <h4>Gill WindMaster Pro</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üì° 3D Ultrasonic</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Wind speed:</td><td>0-65 m/s</td></tr>
                        <tr><td>Wind direction:</td><td>0-359¬∞</td></tr>
                        <tr><td>Sonic temperature:</td><td>-40 to +70¬∞C</td></tr>
                        <tr><td>Resolution:</td><td>0.01 m/s, 0.1¬∞</td></tr>
                        <tr><td>Accuracy:</td><td>¬±1.5% RMS</td></tr>
                        <tr><td>Output rate:</td><td>1-32 Hz</td></tr>
                        <tr><td>Digital outputs:</td><td>RS232/422/485</td></tr>
                        <tr><td>Power:</td><td>8-30V DC, 2W</td></tr>
                        <tr><td>Price range:</td><td>‚Ç¨4,000-6,000</td></tr>
                    </table>
                </div>
                
                <div class="equipment-card">
                    <h4>Metek uSonic-3 Scientific</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üî¨ Research Grade</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Measurement rate:</td><td>Up to 100 Hz</td></tr>
                        <tr><td>Wind components:</td><td>u, v, w</td></tr>
                        <tr><td>Temperature:</td><td>Sonic & virtual</td></tr>
                        <tr><td>Path length:</td><td>175 mm</td></tr>
                        <tr><td>Flow distortion:</td><td>&lt;2%</td></tr>
                        <tr><td>Heating:</td><td>Intelligent de-icing</td></tr>
                        <tr><td>Applications:</td><td>Turbulence, flux</td></tr>
                        <tr><td>Data protocols:</td><td>SDI-12, NMEA</td></tr>
                    </table>
                </div>
            </div>

            <h3>10.3 LiDAR Systems</h3>
            <div class="equipment-grid">
                <div class="equipment-card">
                    <h4>ZX 300M Offshore</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 250px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üìä Vertical Profiling LiDAR</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Measurement heights:</td><td>10-300m (12 user-defined)</td></tr>
                        <tr><td>Range resolution:</td><td>1m</td></tr>
                        <tr><td>Accuracy:</td><td>&lt;0.1 m/s</td></tr>
                        <tr><td>Data availability:</td><td>&gt;97%</td></tr>
                        <tr><td>Power consumption:</td><td>75W average</td></tr>
                        <tr><td>Weight:</td><td>65 kg</td></tr>
                        <tr><td>Environmental:</td><td>-40 to +50¬∞C, IP67</td></tr>
                        <tr><td>Communications:</td><td>3G/4G, Satellite, Ethernet</td></tr>
                        <tr><td>Price range:</td><td>‚Ç¨150,000-250,000</td></tr>
                    </table>
                </div>
                
                <div class="equipment-card">
                    <h4>Leosphere WindCube v2.1</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 250px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üéØ Pulsed Doppler LiDAR</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Technology:</td><td>Pulsed Doppler</td></tr>
                        <tr><td>Heights:</td><td>40-200m (12 levels)</td></tr>
                        <tr><td>Accuracy:</td><td>0.1 m/s</td></tr>
                        <tr><td>Direction accuracy:</td><td>2¬∞</td></tr>
                        <tr><td>Measurement rate:</td><td>1 Hz</td></tr>
                        <tr><td>Laser class:</td><td>1M (eye-safe)</td></tr>
                        <tr><td>FCR compliance:</td><td>Yes</td></tr>
                        <tr><td>DNV-GL verified:</td><td>Yes</td></tr>
                    </table>
                </div>
            </div>

            <h3>10.4 Floating LiDAR Systems</h3>
            <div class="equipment-card">
                <h4>EOLOS FLS200</h4>
                <div class="equipment-image" style="background: #e8f4fd; height: 300px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                    <span style="color: #0066cc; font-size: 24px;">‚öì Floating LiDAR Buoy</span>
                </div>
                <h5>System Components:</h5>
                <table class="spec-table">
                    <tr><th colspan="2">Buoy Platform</th></tr>
                    <tr><td>Diameter:</td><td>2.8 m</td></tr>
                    <tr><td>Height:</td><td>5.5 m</td></tr>
                    <tr><td>Draft:</td><td>4.2 m</td></tr>
                    <tr><td>Displacement:</td><td>9 tonnes</td></tr>
                    <tr><td>Mooring:</td><td>3-point catenary</td></tr>
                    <tr><th colspan="2">Motion Compensation</th></tr>
                    <tr><td>IMU:</td><td>6 DOF, 100 Hz</td></tr>
                    <tr><td>GPS:</td><td>RTK enabled</td></tr>
                    <tr><td>Correction:</td><td>Real-time</td></tr>
                    <tr><th colspan="2">Power System</th></tr>
                    <tr><td>Solar panels:</td><td>1.2 kW</td></tr>
                    <tr><td>Wind turbine:</td><td>400 W</td></tr>
                    <tr><td>Fuel cell:</td><td>Optional backup</td></tr>
                    <tr><td>Battery bank:</td><td>2000 Ah @ 24V</td></tr>
                    <tr><td>Autonomy:</td><td>6 months</td></tr>
                    <tr><th colspan="2">Validation</th></tr>
                    <tr><td>IEC 61400-12-1:</td><td>Compliant</td></tr>
                    <tr><td>Carbon Trust OWA:</td><td>Stage 3 validated</td></tr>
                    <tr><td>Price range:</td><td>‚Ç¨2-3 million (CAPEX)</td></tr>
                </table>
            </div>

            <h3>10.5 Wave Measurement Systems</h3>
            <div class="equipment-grid">
                <div class="equipment-card">
                    <h4>Nortek Signature 1000 ADCP</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üåä Acoustic Doppler</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Frequency:</td><td>1000 kHz</td></tr>
                        <tr><td>Profile range:</td><td>0.4-35 m</td></tr>
                        <tr><td>Cell size:</td><td>0.2-4 m</td></tr>
                        <tr><td>Current accuracy:</td><td>¬±0.5% ¬±0.5 cm/s</td></tr>
                        <tr><td>Wave height range:</td><td>0-30 m</td></tr>
                        <tr><td>Wave period:</td><td>1-50 s</td></tr>
                        <tr><td>Pressure sensor:</td><td>0-100 m</td></tr>
                        <tr><td>Sampling rate:</td><td>Up to 16 Hz</td></tr>
                    </table>
                </div>
                
                <div class="equipment-card">
                    <h4>Datawell Waverider MkIII</h4>
                    <div class="equipment-image" style="background: #e8f4fd; height: 200px; display: flex; align-items: center; justify-content: center; border-radius: 8px; margin: 10px 0;">
                        <span style="color: #0066cc; font-size: 24px;">üèê Wave Buoy</span>
                    </div>
                    <table class="spec-table">
                        <tr><td>Diameter:</td><td>0.9 m</td></tr>
                        <tr><td>Weight:</td><td>200 kg</td></tr>
                        <tr><td>Wave height:</td><td>0-40 m</td></tr>
                        <tr><td>Period range:</td><td>1.6-30 s</td></tr>
                        <tr><td>Direction accuracy:</td><td>0.5-2¬∞</td></tr>
                        <tr><td>GPS positioning:</td><td>¬±3 m</td></tr>
                        <tr><td>Battery life:</td><td>3 years</td></tr>
                        <tr><td>Data transmission:</td><td>HF radio, Iridium</td></tr>
                    </table>
                </div>
            </div>
        </div>

        <!-- Section 11: Installation Procedures -->
        <div class="section" id="installation">
            <h2>11. Practical Installation Procedures</h2>
            
            <h3>11.1 Met Mast Installation Sequence</h3>
            <div class="procedure-timeline">
                <div class="timeline-item">
                    <div class="timeline-number">1</div>
                    <div class="timeline-content">
                        <h4>Pre-Installation Survey</h4>
                        <ul>
                            <li>Geophysical survey (multi-beam echo sounder)</li>
                            <li>Geotechnical investigation (CPT, boreholes)</li>
                            <li>UXO (Unexploded Ordnance) survey</li>
                            <li>Environmental baseline survey</li>
                            <li>Metocean assessment</li>
                        </ul>
                        <div class="time-estimate">Duration: 2-4 weeks</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-number">2</div>
                    <div class="timeline-content">
                        <h4>Foundation Installation</h4>
                        <ul>
                            <li>Mobilize jack-up vessel (JUV)</li>
                            <li>Position at location (DP or anchored)</li>
                            <li>Drive monopile (hammering/vibrating)</li>
                            <li>Scour protection installation</li>
                            <li>Grouting of transition piece</li>
                        </ul>
                        <div class="time-estimate">Duration: 2-3 days (weather dependent)</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-number">3</div>
                    <div class="timeline-content">
                        <h4>Mast Assembly & Erection</h4>
                        <ul>
                            <li>Transport mast sections to site</li>
                            <li>Assembly on vessel deck</li>
                            <li>Install guy wires and anchors</li>
                            <li>Lift mast with vessel crane</li>
                            <li>Bolt to foundation interface</li>
                            <li>Tension guy wires</li>
                        </ul>
                        <div class="time-estimate">Duration: 1-2 days</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-number">4</div>
                    <div class="timeline-content">
                        <h4>Instrumentation Installation</h4>
                        <ul>
                            <li>Mount booms at measurement heights</li>
                            <li>Install anemometers (2x per level)</li>
                            <li>Install wind vanes</li>
                            <li>Mount temperature/humidity sensors</li>
                            <li>Install pressure sensors</li>
                            <li>Cable routing and protection</li>
                        </ul>
                        <div class="time-estimate">Duration: 2-3 days</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-number">5</div>
                    <div class="timeline-content">
                        <h4>Power & Communication Systems</h4>
                        <ul>
                            <li>Solar panel installation</li>
                            <li>Wind turbine mounting (backup)</li>
                            <li>Battery bank commissioning</li>
                            <li>Data logger configuration</li>
                            <li>Satellite/cellular modem setup</li>
                            <li>Lightning protection system</li>
                        </ul>
                        <div class="time-estimate">Duration: 1-2 days</div>
                    </div>
                </div>
                
                <div class="timeline-item">
                    <div class="timeline-number">6</div>
                    <div class="timeline-content">
                        <h4>Commissioning & Testing</h4>
                        <ul>
                            <li>Sensor calibration verification</li>
                            <li>Data logger programming</li>
                            <li>Communication link testing</li>
                            <li>Remote access configuration</li>
                            <li>Data quality checks</li>
                            <li>Documentation handover</li>
                        </ul>
                        <div class="time-estimate">Duration: 1-2 days</div>
                    </div>
                </div>
            </div>

            <h3>11.2 Vessel Requirements</h3>
            <div class="vessel-comparison">
                <table class="vessel-table">
                    <tr>
                        <th>Vessel Type</th>
                        <th>Typical Size</th>
                        <th>Key Features</th>
                        <th>Day Rate (USD)</th>
                        <th>Best Use</th>
                    </tr>
                    <tr>
                        <td><strong>Jack-up Vessel</strong></td>
                        <td>100-150m length<br>4-6 legs</td>
                        <td>‚Ä¢ Stable platform<br>‚Ä¢ 800-1500t crane<br>‚Ä¢ DP2 capability<br>‚Ä¢ Accommodation 50-100</td>
                        <td>$150,000-300,000</td>
                        <td>Foundation & mast installation</td>
                    </tr>
                    <tr>
                        <td><strong>Multi-purpose Vessel</strong></td>
                        <td>80-120m length</td>
                        <td>‚Ä¢ 100-250t crane<br>‚Ä¢ Large deck space<br>‚Ä¢ DP1/DP2<br>‚Ä¢ Walk-to-work system</td>
                        <td>$30,000-60,000</td>
                        <td>Equipment transport & light lifts</td>
                    </tr>
                    <tr>
                        <td><strong>Crew Transfer Vessel</strong></td>
                        <td>20-30m length</td>
                        <td>‚Ä¢ 12-24 passengers<br>‚Ä¢ 30+ knots speed<br>‚Ä¢ Motion compensated<br>‚Ä¢ Cargo deck</td>
                        <td>$3,000-8,000</td>
                        <td>Personnel & small equipment</td>
                    </tr>
                    <tr>
                        <td><strong>Cable Laying Vessel</strong></td>
                        <td>100-150m length</td>
                        <td>‚Ä¢ Cable carousel<br>‚Ä¢ ROV spread<br>‚Ä¢ DP2<br>‚Ä¢ Burial equipment</td>
                        <td>$100,000-200,000</td>
                        <td>Power/data cable installation</td>
                    </tr>
                </table>
            </div>

            <h3>11.3 Weather Window Analysis</h3>
            <div class="weather-criteria">
                <h4>Operational Limits for Installation</h4>
                <table class="weather-table">
                    <tr>
                        <th>Operation</th>
                        <th>Wind Speed</th>
                        <th>Wave Height (Hs)</th>
                        <th>Current</th>
                        <th>Visibility</th>
                        <th>Duration Needed</th>
                    </tr>
                    <tr>
                        <td>Foundation installation</td>
                        <td>&lt;12 m/s</td>
                        <td>&lt;1.5 m</td>
                        <td>&lt;1.0 m/s</td>
                        <td>&gt;1 km</td>
                        <td>48-72 hours</td>
                    </tr>
                    <tr>
                        <td>Mast lifting</td>
                        <td>&lt;10 m/s</td>
                        <td>&lt;1.2 m</td>
                        <td>&lt;0.8 m/s</td>
                        <td>&gt;500 m</td>
                        <td>12-24 hours</td>
                    </tr>
                    <tr>
                        <td>Instrumentation work</td>
                        <td>&lt;15 m/s</td>
                        <td>&lt;2.0 m</td>
                        <td>N/A</td>
                        <td>&gt;200 m</td>
                        <td>8-12 hours</td>
                    </tr>
                    <tr>
                        <td>Personnel transfer</td>
                        <td>&lt;20 m/s</td>
                        <td>&lt;2.5 m</td>
                        <td>&lt;1.5 m/s</td>
                        <td>&gt;200 m</td>
                        <td>2-4 hours</td>
                    </tr>
                </table>
            </div>

            <h3>11.4 Safety Protocols</h3>
            <div class="safety-section">
                <div class="safety-card">
                    <h4>ü¶∫ Personal Protective Equipment (PPE)</h4>
                    <ul>
                        <li>Offshore safety helmet with chin strap</li>
                        <li>Life jacket (275N, SOLAS approved)</li>
                        <li>Safety harness for working at height</li>
                        <li>Anti-slip safety boots</li>
                        <li>High-visibility clothing</li>
                        <li>Safety glasses</li>
                        <li>Work gloves (cut resistant)</li>
                        <li>Personal Locator Beacon (PLB)</li>
                    </ul>
                </div>
                
                <div class="safety-card">
                    <h4>‚ö†Ô∏è Risk Assessments</h4>
                    <ul>
                        <li>Dropped objects prevention (DROPS)</li>
                        <li>Working at height procedures</li>
                        <li>Lifting operations plan</li>
                        <li>Marine operations risk assessment</li>
                        <li>Emergency response procedures</li>
                        <li>Man overboard protocols</li>
                        <li>Helicopter operations (if applicable)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 12: Data Acquisition Systems -->
        <div class="section" id="data-systems">
            <h2>12. Data Acquisition & Communication Systems</h2>
            
            <h3>12.1 Data Logger Configuration</h3>
            <div class="system-architecture">
                <h4>Campbell Scientific CR6 System Example</h4>
                <div class="config-code">
                    <pre><code>'CR6 Datalogger Program for Offshore Met Mast
'Version 2.1 - IEC 61400-12-1 Compliant

'Declare Variables
Public BattV, PTemp, WS_80m(2), WD_80m, Temp_2m, RH, Pressure
Public WS_100m(2), WS_60m(2), WS_40m(2)
Public TI_80m, Gust_80m, StdDev_80m
Dim i

'Data Tables
DataTable(Table1,True,-1)
  DataInterval(0,10,Min,10)  '10-minute averages
  Average(1,WS_80m(1),FP2,False)
  StdDev(1,WS_80m(1),FP2,False)
  Average(1,WS_80m(2),FP2,False)
  Average(1,WD_80m,FP2,False)
  WindVector(1,WS_80m(1),WD_80m,FP2,False,0,0,0)
  Maximum(1,WS_80m(1),FP2,False,True)
  Minimum(1,WS_80m(1),FP2,False,True)
  Average(1,Temp_2m,FP2,False)
  Average(1,RH,FP2,False)
  Average(1,Pressure,FP2,False)
EndTable

DataTable(Table2,True,-1)
  DataInterval(0,600,Sec,10)  '10-second data for turbulence
  Sample(1,WS_80m(1),FP2)
  Sample(1,WS_80m(2),FP2)
  Sample(1,WD_80m,FP2)
EndTable

'Main Program
BeginProg
  Scan(1,Sec,3,0)
    'System measurements
    Battery(BattV)
    PanelTemp(PTemp,_60Hz)
    
    'Wind measurements - Primary anemometer at 80m
    PulseCount(WS_80m(1),1,1,1,1,0.765,0.35)
    'Secondary anemometer at 80m
    PulseCount(WS_80m(2),1,2,1,1,0.765,0.35)
    
    'Wind direction
    BrHalf(WD_80m,1,mV2500,1,Vx1,1,2500,True,0,_60Hz,355,0)
    If WD_80m>=360 Then WD_80m=0
    
    'Temperature & Humidity
    SDI12Recorder(Temp_2m,1,"0","M!",1,0)
    SDI12Recorder(RH,1,"0","M!",2,0)
    
    'Barometric Pressure
    VoltSe(Pressure,1,mV2500,3,True,0,_60Hz,0.184,600)
    
    'Turbulence calculations
    If TimeIntoInterval(0,10,Min) Then
      StdDev_80m = StdDevSpa(WS_80m(1),600)  'Last 10 min
      TI_80m = (StdDev_80m/WS_80m(1))*100
    EndIf
    
    'Call Data Tables
    CallTable(Table1)
    CallTable(Table2)
  NextScan
EndProg</code></pre>
                </div>
            </div>

            <h3>12.2 Power Supply Solutions</h3>
            <div class="power-grid">
                <div class="power-card">
                    <h4>Primary: Solar PV System</h4>
                    <table class="power-table">
                        <tr><td>Panel type:</td><td>Monocrystalline</td></tr>
                        <tr><td>Configuration:</td><td>4 √ó 300W panels</td></tr>
                        <tr><td>Total capacity:</td><td>1.2 kW</td></tr>
                        <tr><td>Mounting:</td><td>Stainless steel frame</td></tr>
                        <tr><td>Angle:</td><td>Latitude ¬± 15¬∞</td></tr>
                        <tr><td>Charge controller:</td><td>MPPT 60A</td></tr>
                        <tr><td>Daily yield (summer):</td><td>4-5 kWh</td></tr>
                        <tr><td>Daily yield (winter):</td><td>1-2 kWh</td></tr>
                    </table>
                </div>
                
                <div class="power-card">
                    <h4>Secondary: Small Wind Turbine</h4>
                    <table class="power-table">
                        <tr><td>Model:</td><td>Superwind 350</td></tr>
                        <tr><td>Rated power:</td><td>350W @ 12.5 m/s</td></tr>
                        <tr><td>Cut-in speed:</td><td>3.5 m/s</td></tr>
                        <tr><td>Survival speed:</td><td>60 m/s</td></tr>
                        <tr><td>Rotor diameter:</td><td>1.2 m</td></tr>
                        <tr><td>Weight:</td><td>11.5 kg</td></tr>
                        <tr><td>Annual yield:</td><td>1,000-2,000 kWh</td></tr>
                    </table>
                </div>
                
                <div class="power-card">
                    <h4>Storage: Battery Bank</h4>
                    <table class="power-table">
                        <tr><td>Type:</td><td>AGM deep cycle</td></tr>
                        <tr><td>Configuration:</td><td>8 √ó 12V 200Ah</td></tr>
                        <tr><td>Total capacity:</td><td>19.2 kWh @ 24V</td></tr>
                        <tr><td>Usable capacity:</td><td>9.6 kWh (50% DoD)</td></tr>
                        <tr><td>Temperature range:</td><td>-20 to +50¬∞C</td></tr>
                        <tr><td>Expected life:</td><td>5-7 years</td></tr>
                        <tr><td>Monitoring:</td><td>BMS with remote access</td></tr>
                    </table>
                </div>
                
                <div class="power-card">
                    <h4>Backup: Fuel Cell</h4>
                    <table class="power-table">
                        <tr><td>Type:</td><td>DMFC (Methanol)</td></tr>
                        <tr><td>Model:</td><td>EFOY Pro 2800</td></tr>
                        <tr><td>Output:</td><td>2.8 kW</td></tr>
                        <tr><td>Fuel consumption:</td><td>0.9 L/kWh</td></tr>
                        <tr><td>Tank capacity:</td><td>2 √ó 60L</td></tr>
                        <tr><td>Runtime:</td><td>4-6 weeks</td></tr>
                        <tr><td>Automatic start:</td><td>Battery &lt;23V</td></tr>
                    </table>
                </div>
            </div>

            <h3>12.3 Communication Systems</h3>
            <div class="comm-comparison">
                <h4>Data Transmission Options</h4>
                <table class="comm-table">
                    <tr>
                        <th>Technology</th>
                        <th>Range</th>
                        <th>Data Rate</th>
                        <th>Power</th>
                        <th>Cost/month</th>
                        <th>Reliability</th>
                    </tr>
                    <tr>
                        <td><strong>4G/LTE</strong></td>
                        <td>Up to 30 km offshore</td>
                        <td>10-50 Mbps</td>
                        <td>5-10W</td>
                        <td>$50-200</td>
                        <td>95% (near shore)</td>
                    </tr>
                    <tr>
                        <td><strong>Satellite (Iridium)</strong></td>
                        <td>Global</td>
                        <td>2.4-134 kbps</td>
                        <td>5-15W</td>
                        <td>$100-500</td>
                        <td>99.9%</td>
                    </tr>
                    <tr>
                        <td><strong>Satellite (VSAT)</strong></td>
                        <td>Global</td>
                        <td>256 kbps-4 Mbps</td>
                        <td>20-40W</td>
                        <td>$500-2000</td>
                        <td>99%</td>
                    </tr>
                    <tr>
                        <td><strong>Radio Link</strong></td>
                        <td>Up to 50 km (LOS)</td>
                        <td>1-100 Mbps</td>
                        <td>10-20W</td>
                        <td>$0 (owned)</td>
                        <td>95-98%</td>
                    </tr>
                    <tr>
                        <td><strong>Subsea Cable</strong></td>
                        <td>Unlimited</td>
                        <td>1-10 Gbps</td>
                        <td>N/A</td>
                        <td>$0 (owned)</td>
                        <td>99.99%</td>
                    </tr>
                </table>
            </div>

            <h3>12.4 Real-time Data Monitoring Dashboard</h3>
            <div class="dashboard-example">
                <h4>Web-Based Monitoring Interface Features</h4>
                <div class="dashboard-grid">
                    <div class="dashboard-item">
                        <h5>Live Data Display</h5>
                        <ul>
                            <li>Real-time wind speed/direction</li>
                            <li>10-minute rolling averages</li>
                            <li>Wind roses (last 24h)</li>
                            <li>Vertical profiles</li>
                            <li>Turbulence intensity</li>
                            <li>System health status</li>
                        </ul>
                    </div>
                    <div class="dashboard-item">
                        <h5>Alarm System</h5>
                        <ul>
                            <li>Sensor failure detection</li>
                            <li>Low battery voltage</li>
                            <li>Communication loss</li>
                            <li>Icing conditions</li>
                            <li>Extreme weather alerts</li>
                            <li>Email/SMS notifications</li>
                        </ul>
                    </div>
                    <div class="dashboard-item">
                        <h5>Data Export</h5>
                        <ul>
                            <li>CSV/Excel download</li>
                            <li>API access (REST)</li>
                            <li>FTP server</li>
                            <li>Automated reports</li>
                            <li>IEC 61400-12-1 format</li>
                            <li>Custom time ranges</li>
                        </ul>
                    </div>
                    <div class="dashboard-item">
                        <h5>Analysis Tools</h5>
                        <ul>
                            <li>Wind shear calculation</li>
                            <li>Weibull fitting</li>
                            <li>Data availability stats</li>
                            <li>Correlation analysis</li>
                            <li>Power density estimates</li>
                            <li>Uncertainty assessment</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 13: Calibration and Maintenance -->
        <div class="section" id="maintenance">
            <h2>13. Calibration, Maintenance & Best Practices</h2>
            
            <h3>13.1 Calibration Procedures</h3>
            <div class="calibration-info">
                <h4>Anemometer Calibration</h4>
                <div class="procedure-box">
                    <h5>Pre-deployment Calibration</h5>
                    <ol>
                        <li><strong>Laboratory calibration:</strong>
                            <ul>
                                <li>MEASNET-approved wind tunnel</li>
                                <li>Speed range: 4-16 m/s minimum</li>
                                <li>Angular response test (0-360¬∞)</li>
                                <li>Temperature cycling (-20 to +40¬∞C)</li>
                                <li>Uncertainty target: &lt;0.1 m/s</li>
                            </ul>
                        </li>
                        <li><strong>Calibration equation:</strong>
                            <pre>V = A √ó f + B</pre>
                            Where: V = wind speed (m/s), f = frequency (Hz), A & B = calibration constants
                        </li>
                        <li><strong>Documentation required:</strong>
                            <ul>
                                <li>Calibration certificate</li>
                                <li>Uncertainty analysis</li>
                                <li>Traceability to national standards</li>
                                <li>Angular response curves</li>
                            </ul>
                        </li>
                    </ol>
                </div>
                
                <div class="procedure-box">
                    <h5>In-situ Verification Methods</h5>
                    <table class="verification-table">
                        <tr>
                            <th>Method</th>
                            <th>Frequency</th>
                            <th>Procedure</th>
                            <th>Acceptance Criteria</th>
                        </tr>
                        <tr>
                            <td>Redundancy check</td>
                            <td>Continuous</td>
                            <td>Compare primary vs secondary sensors</td>
                            <td>Difference &lt;2% or 0.2 m/s</td>
                        </tr>
                        <tr>
                            <td>Ground reference</td>
                            <td>Quarterly</td>
                            <td>Portable LiDAR comparison</td>
                            <td>R¬≤ &gt; 0.98, slope 0.98-1.02</td>
                        </tr>
                        <tr>
                            <td>Zero wind check</td>
                            <td>Annual</td>
                            <td>Cover cups, verify zero output</td>
                            <td>Output &lt;0.05 m/s</td>
                        </tr>
                        <tr>
                            <td>Spin test</td>
                            <td>Each visit</td>
                            <td>Manual rotation check</td>
                            <td>Smooth rotation, no noise</td>
                        </tr>
                    </table>
                </div>
            </div>

            <h3>13.2 Maintenance Schedule</h3>
            <div class="maintenance-schedule">
                <h4>Preventive Maintenance Calendar</h4>
                <table class="maintenance-table">
                    <tr>
                        <th>Component</th>
                        <th>Monthly</th>
                        <th>Quarterly</th>
                        <th>Annual</th>
                        <th>2-Year</th>
                    </tr>
                    <tr>
                        <td><strong>Anemometers</strong></td>
                        <td>‚Ä¢ Visual check via webcam<br>‚Ä¢ Data quality review</td>
                        <td>‚Ä¢ Clean sensors<br>‚Ä¢ Check mounting<br>‚Ä¢ Verify alignment</td>
                        <td>‚Ä¢ Replace bearings<br>‚Ä¢ Calibration check<br>‚Ä¢ Replace if needed</td>
                        <td>‚Ä¢ Full replacement<br>‚Ä¢ Lab recalibration</td>
                    </tr>
                    <tr>
                        <td><strong>Wind Vanes</strong></td>
                        <td>‚Ä¢ Check for freezing<br>‚Ä¢ Data consistency</td>
                        <td>‚Ä¢ Clean and lubricate<br>‚Ä¢ Check damping</td>
                        <td>‚Ä¢ Replace potentiometer<br>‚Ä¢ Realign to North</td>
                        <td>‚Ä¢ Full replacement</td>
                    </tr>
                    <tr>
                        <td><strong>Data Logger</strong></td>
                        <td>‚Ä¢ Remote diagnostics<br>‚Ä¢ Memory check</td>
                        <td>‚Ä¢ Firmware updates<br>‚Ä¢ Time sync</td>
                        <td>‚Ä¢ Replace desiccant<br>‚Ä¢ Clean enclosure</td>
                        <td>‚Ä¢ Replace backup battery</td>
                    </tr>
                    <tr>
                        <td><strong>Power System</strong></td>
                        <td>‚Ä¢ Voltage monitoring<br>‚Ä¢ Charge cycles</td>
                        <td>‚Ä¢ Clean solar panels<br>‚Ä¢ Check connections</td>
                        <td>‚Ä¢ Battery capacity test<br>‚Ä¢ Replace fuses</td>
                        <td>‚Ä¢ Replace batteries<br>‚Ä¢ Upgrade charge controller</td>
                    </tr>
                    <tr>
                        <td><strong>Structure</strong></td>
                        <td>‚Ä¢ Visual inspection</td>
                        <td>‚Ä¢ Guy wire tension<br>‚Ä¢ Bolt torque check</td>
                        <td>‚Ä¢ NDT inspection<br>‚Ä¢ Corrosion protection</td>
                        <td>‚Ä¢ Major overhaul<br>‚Ä¢ Re-galvanizing</td>
                    </tr>
                </table>
            </div>

            <h3>13.3 Common Issues and Troubleshooting</h3>
            <div class="troubleshooting-grid">
                <div class="issue-card">
                    <h4>üßä Icing Problems</h4>
                    <div class="symptoms">Symptoms:</div>
                    <ul>
                        <li>Zero or constant wind speed readings</li>
                        <li>Wind direction stuck</li>
                        <li>Unusual data patterns</li>
                    </ul>
                    <div class="solutions">Solutions:</div>
                    <ul>
                        <li>Install heated sensors</li>
                        <li>Apply ice-phobic coatings</li>
                        <li>Increase heating power</li>
                        <li>Data filtering algorithms</li>
                    </ul>
                </div>
                
                <div class="issue-card">
                    <h4>üåä Salt Contamination</h4>
                    <div class="symptoms">Symptoms:</div>
                    <ul>
                        <li>Degraded sensor performance</li>
                        <li>Corrosion visible</li>
                        <li>Electrical shorts</li>
                    </ul>
                    <div class="solutions">Solutions:</div>
                    <ul>
                        <li>Regular fresh water washing</li>
                        <li>Protective coatings</li>
                        <li>Sealed enclosures (IP67)</li>
                        <li>Sacrificial anodes</li>
                    </ul>
                </div>
                
                <div class="issue-card">
                    <h4>ü¶Ö Bird Interference</h4>
                    <div class="symptoms">Symptoms:</div>
                    <ul>
                        <li>Spikes in data</li>
                        <li>Fouling on sensors</li>
                        <li>Damaged cables</li>
                    </ul>
                    <div class="solutions">Solutions:</div>
                    <ul>
                        <li>Bird deterrent devices</li>
                        <li>Spike strips on perches</li>
                        <li>Ultrasonic repellents</li>
                        <li>Regular cleaning</li>
                    </ul>
                </div>
                
                <div class="issue-card">
                    <h4>‚ö° Lightning Damage</h4>
                    <div class="symptoms">Symptoms:</div>
                    <ul>
                        <li>Complete sensor failure</li>
                        <li>Logger malfunction</li>
                        <li>Communication loss</li>
                    </ul>
                    <div class="solutions">Solutions:</div>
                    <ul>
                        <li>Lightning rods/air terminals</li>
                        <li>Surge protection devices</li>
                        <li>Proper grounding system</li>
                        <li>Fiber optic cables</li>
                    </ul>
                </div>
            </div>

            <h3>13.4 Remote Diagnostics Tools</h3>
            <div class="diagnostics-section">
                <h4>Automated Health Monitoring</h4>
                <div class="diagnostic-code">
                    <pre><code># Python script for automated sensor health check
import numpy as np
import pandas as pd
from datetime import datetime, timedelta

class SensorHealthCheck:
    def __init__(self, data_stream):
        self.data = data_stream
        self.alerts = []
        
    def check_flatline(self, column, window='1H', threshold=0.01):
        """Detect constant values indicating sensor freeze"""
        rolling_std = self.data[column].rolling(window).std()
        flatline_periods = rolling_std < threshold
        
        if flatline_periods.any():
            self.alerts.append({
                'type': 'FLATLINE',
                'sensor': column,
                'severity': 'HIGH',
                'timestamp': datetime.now(),
                'duration': flatline_periods.sum()
            })
    
    def check_range(self, column, min_val, max_val):
        """Check if values are within expected range"""
        out_of_range = (self.data[column] < min_val) | (self.data[column] > max_val)
        
        if out_of_range.any():
            self.alerts.append({
                'type': 'RANGE_ERROR',
                'sensor': column,
                'severity': 'MEDIUM',
                'values': self.data[column][out_of_range].tolist()
            })
    
    def check_redundancy(self, primary, secondary, tolerance=0.02):
        """Compare redundant sensors"""
        diff = abs(self.data[primary] - self.data[secondary])
        rel_diff = diff / self.data[primary]
        
        failures = rel_diff > tolerance
        if failures.any():
            self.alerts.append({
                'type': 'REDUNDANCY_FAIL',
                'sensors': f'{primary} vs {secondary}',
                'severity': 'HIGH',
                'max_difference': diff.max()
            })
    
    def check_availability(self, target=0.90):
        """Calculate data availability"""
        availability = self.data.notna().mean()
        
        for sensor, avail in availability.items():
            if avail < target:
                self.alerts.append({
                    'type': 'LOW_AVAILABILITY',
                    'sensor': sensor,
                    'severity': 'MEDIUM',
                    'availability': f'{avail:.1%}'
                })
    
    def generate_report(self):
        """Generate health report"""
        return {
            'timestamp': datetime.now(),
            'total_alerts': len(self.alerts),
            'critical_alerts': sum(1 for a in self.alerts if a['severity'] == 'HIGH'),
            'alerts': self.alerts
        }</code></pre>
                </div>
            </div>
        </div>

        <!-- Section 14: Measurement Campaign Planning -->
        <div class="section" id="campaign-planning">
            <h2>14. Measurement Campaign Planning & Economics</h2>
            
            <h3>14.1 Campaign Duration Requirements</h3>
            <div class="duration-analysis">
                <h4>IEC 61400-12-1 Requirements</h4>
                <table class="duration-table">
                    <tr>
                        <th>Project Stage</th>
                        <th>Minimum Duration</th>
                        <th>Recommended</th>
                        <th>Data Coverage Required</th>
                        <th>Key Objectives</th>
                    </tr>
                    <tr>
                        <td><strong>Feasibility</strong></td>
                        <td>6 months</td>
                        <td>12 months</td>
                        <td>80%</td>
                        <td>‚Ä¢ Initial resource estimate<br>‚Ä¢ Seasonal variation<br>‚Ä¢ Site selection</td>
                    </tr>
                    <tr>
                        <td><strong>Pre-construction</strong></td>
                        <td>12 months</td>
                        <td>24-36 months</td>
                        <td>90%</td>
                        <td>‚Ä¢ Detailed wind resource<br>‚Ä¢ Extreme event capture<br>‚Ä¢ Inter-annual variability</td>
                    </tr>
                    <tr>
                        <td><strong>Operational</strong></td>
                        <td>Continuous</td>
                        <td>Project lifetime</td>
                        <td>95%</td>
                        <td>‚Ä¢ Performance verification<br>‚Ä¢ Forecasting<br>‚Ä¢ O&M optimization</td>
                    </tr>
                </table>
                
                <div class="info-box">
                    <strong>Data Coverage Calculation:</strong>
                    <pre>Coverage = (Valid data records / Total possible records) √ó 100%</pre>
                    <p>Example: For 10-minute data over 1 year: 52,560 possible records</p>
                    <p>With 90% coverage: 47,304 valid records required</p>
                </div>
            </div>

            <h3>14.2 Cost-Benefit Analysis</h3>
            <div class="cost-analysis">
                <h4>Typical Campaign Costs (USD)</h4>
                <table class="cost-table">
                    <tr>
                        <th>Item</th>
                        <th>Fixed Platform</th>
                        <th>Floating LiDAR</th>
                        <th>Scanning LiDAR</th>
                    </tr>
                    <tr>
                        <td colspan="4" class="category-header">CAPEX</td>
                    </tr>
                    <tr>
                        <td>Equipment purchase/lease</td>
                        <td>$800,000</td>
                        <td>$2,500,000</td>
                        <td>$400,000</td>
                    </tr>
                    <tr>
                        <td>Installation</td>
                        <td>$1,200,000</td>
                        <td>$500,000</td>
                        <td>$200,000</td>
                    </tr>
                    <tr>
                        <td>Commissioning</td>
                        <td>$100,000</td>
                        <td>$150,000</td>
                        <td>$50,000</td>
                    </tr>
                    <tr>
                        <td><strong>Total CAPEX</strong></td>
                        <td><strong>$2,100,000</strong></td>
                        <td><strong>$3,150,000</strong></td>
                        <td><strong>$650,000</strong></td>
                    </tr>
                    <tr>
                        <td colspan="4" class="category-header">Annual OPEX</td>
                    </tr>
                    <tr>
                        <td>Maintenance visits</td>
                        <td>$200,000</td>
                        <td>$300,000</td>
                        <td>$50,000</td>
                    </tr>
                    <tr>
                        <td>Data management</td>
                        <td>$50,000</td>
                        <td>$50,000</td>
                        <td>$30,000</td>
                    </tr>
                    <tr>
                        <td>Insurance</td>
                        <td>$30,000</td>
                        <td>$60,000</td>
                        <td>$10,000</td>
                    </tr>
                    <tr>
                        <td>Communications</td>
                        <td>$12,000</td>
                        <td>$18,000</td>
                        <td>$6,000</td>
                    </tr>
                    <tr>
                        <td><strong>Total Annual OPEX</strong></td>
                        <td><strong>$292,000</strong></td>
                        <td><strong>$428,000</strong></td>
                        <td><strong>$96,000</strong></td>
                    </tr>
                    <tr>
                        <td colspan="4" class="category-header">Other Considerations</td>
                    </tr>
                    <tr>
                        <td>Decommissioning</td>
                        <td>$500,000</td>
                        <td>$300,000</td>
                        <td>$50,000</td>
                    </tr>
                    <tr>
                        <td>Data quality</td>
                        <td>Excellent</td>
                        <td>Very Good</td>
                        <td>Good</td>
                    </tr>
                    <tr>
                        <td>Flexibility</td>
                        <td>Fixed location</td>
                        <td>Relocatable</td>
                        <td>Highly flexible</td>
                    </tr>
                </table>
            </div>

            <h3>14.3 Uncertainty Reduction Value</h3>
            <div class="uncertainty-value">
                <h4>Impact of Measurement Campaigns on Project Economics</h4>
                <canvas id="uncertaintyChart" width="600" height="400"></canvas>
                
                <div class="uncertainty-calc">
                    <h5>Uncertainty Propagation Example</h5>
                    <pre><code>Project: 500 MW offshore wind farm
Mean wind speed: 9.5 m/s
P50 AEP: 2,000 GWh/year

Uncertainty Components:
- Wind measurement: ¬±3% ‚Üí ¬±60 GWh/year
- Vertical extrapolation: ¬±2% ‚Üí ¬±40 GWh/year  
- Long-term correction: ¬±4% ‚Üí ¬±80 GWh/year
- Wake modeling: ¬±5% ‚Üí ¬±100 GWh/year
- Power curve: ¬±2% ‚Üí ¬±40 GWh/year

Combined uncertainty (RSS): ¬±7.5% ‚Üí ¬±150 GWh/year

Financial impact @ $50/MWh:
- P90 (high certainty): 1,850 GWh ‚Üí $92.5M/year
- P50 (best estimate): 2,000 GWh ‚Üí $100M/year
- P10 (low certainty): 2,150 GWh ‚Üí $107.5M/year

Each 1% reduction in uncertainty ‚âà $1.5M/year value
Over 20 years: $30M present value @ 8% discount rate</code></pre>
                </div>
            </div>

            <h3>14.4 Site Selection Criteria</h3>
            <div class="site-selection">
                <h4>Measurement Location Optimization</h4>
                <div class="criteria-grid">
                    <div class="criteria-card">
                        <h5>üéØ Technical Criteria</h5>
                        <ul>
                            <li>Representative of wind farm area</li>
                            <li>Minimal flow distortion</li>
                            <li>Adequate fetch (>10 km)</li>
                            <li>Similar water depth</li>
                            <li>Away from shipping lanes</li>
                            <li>Stable seabed conditions</li>
                        </ul>
                    </div>
                    <div class="criteria-card">
                        <h5>‚öñÔ∏è Regulatory Criteria</h5>
                        <ul>
                            <li>Outside exclusion zones</li>
                            <li>Environmental permits obtained</li>
                            <li>Navigation clearance</li>
                            <li>Fishing area agreements</li>
                            <li>Military clearance</li>
                            <li>Aviation approval</li>
                        </ul>
                    </div>
                    <div class="criteria-card">
                        <h5>üí∞ Economic Criteria</h5>
                        <ul>
                            <li>Installation accessibility</li>
                            <li>Distance from port</li>
                            <li>Water depth (cost impact)</li>
                            <li>Existing infrastructure</li>
                            <li>Multi-use potential</li>
                            <li>Decommission feasibility</li>
                        </ul>
                    </div>
                    <div class="criteria-card">
                        <h5>üåä Environmental Criteria</h5>
                        <ul>
                            <li>Marine habitat sensitivity</li>
                            <li>Migration routes</li>
                            <li>Spawning areas</li>
                            <li>Protected species</li>
                            <li>Sediment transport</li>
                            <li>Visual impact</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 15: Advanced Measurement Technologies -->
        <div class="section" id="advanced-tech">
            <h2>15. Advanced & Emerging Measurement Technologies</h2>
            
            <h3>15.1 Scanning LiDAR Systems</h3>
            <div class="scanning-lidar">
                <h4>3D Wind Field Measurement</h4>
                <div class="tech-comparison">
                    <div class="tech-card">
                        <h5>Leosphere WindCube Scan 400S</h5>
                        <table class="tech-specs">
                            <tr><td>Technology:</td><td>Pulsed coherent Doppler</td></tr>
                            <tr><td>Range:</td><td>100m - 10km</td></tr>
                            <tr><td>Range resolution:</td><td>25-100m</td></tr>
                            <tr><td>Scanning modes:</td><td>PPI, RHI, DBS, Custom</td></tr>
                            <tr><td>Angular resolution:</td><td>0.1¬∞</td></tr>
                            <tr><td>Scan speed:</td><td>0.1-6¬∞/s</td></tr>
                            <tr><td>Applications:</td><td>‚Ä¢ Wake measurements<br>‚Ä¢ Complex terrain<br>‚Ä¢ Power curve verification<br>‚Ä¢ Turbulence mapping</td></tr>
                            <tr><td>Data products:</td><td>‚Ä¢ 3D wind vectors<br>‚Ä¢ Turbulence intensity<br>‚Ä¢ Wind shear<br>‚Ä¢ Vorticity</td></tr>
                        </table>
                    </div>
                    
                    <div class="tech-card">
                        <h5>Typical Scan Patterns</h5>
                        <div class="scan-patterns">
                            <h6>Plan Position Indicator (PPI)</h6>
                            <ul>
                                <li>Horizontal scans at fixed elevation</li>
                                <li>Wind field mapping</li>
                                <li>Wake visualization</li>
                                <li>Typical: 360¬∞ @ 3¬∞ elevation</li>
                            </ul>
                            
                            <h6>Range Height Indicator (RHI)</h6>
                            <ul>
                                <li>Vertical scans at fixed azimuth</li>
                                <li>Boundary layer profiling</li>
                                <li>Vertical wind shear</li>
                                <li>Typical: 0-30¬∞ elevation</li>
                            </ul>
                            
                            <h6>Dual-Doppler Configuration</h6>
                            <ul>
                                <li>Two synchronized scanners</li>
                                <li>Full 3D wind retrieval</li>
                                <li>No flow homogeneity assumption</li>
                                <li>Complex flow analysis</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>

            <h3>15.2 Satellite Wind Measurements</h3>
            <div class="satellite-section">
                <h4>Synthetic Aperture Radar (SAR)</h4>
                <table class="satellite-table">
                    <tr>
                        <th>Satellite</th>
                        <th>Agency</th>
                        <th>Resolution</th>
                        <th>Swath Width</th>
                        <th>Revisit Time</th>
                        <th>Wind Range</th>
                    </tr>
                    <tr>
                        <td>Sentinel-1A/B</td>
                        <td>ESA</td>
                        <td>1-3 km</td>
                        <td>250 km</td>
                        <td>6 days</td>
                        <td>2-24 m/s</td>
                    </tr>
                    <tr>
                        <td>RADARSAT-2</td>
                        <td>CSA</td>
                        <td>0.5-3 km</td>
                        <td>100-500 km</td>
                        <td>24 days</td>
                        <td>3-25 m/s</td>
                    </tr>
                    <tr>
                        <td>TerraSAR-X</td>
                        <td>DLR</td>
                        <td>1-3 km</td>
                        <td>30-100 km</td>
                        <td>11 days</td>
                        <td>3-25 m/s</td>
                    </tr>
                </table>
                
                <div class="sar-process">
                    <h5>SAR Wind Retrieval Process</h5>
                    <ol>
                        <li><strong>Image acquisition:</strong> Radar backscatter from sea surface</li>
                        <li><strong>Calibration:</strong> Convert to normalized radar cross section (NRCS)</li>
                        <li><strong>Wind retrieval:</strong> Apply geophysical model function (GMF)
                            <pre>œÉ‚ÇÄ = f(U‚ÇÅ‚ÇÄ, Œ∏, œÜ)</pre>
                            Where: œÉ‚ÇÄ = NRCS, U‚ÇÅ‚ÇÄ = wind speed at 10m, Œ∏ = incidence angle, œÜ = wind direction
                        </li>
                        <li><strong>Validation:</strong> Compare with in-situ measurements</li>
                        <li><strong>Products:</strong> Wind speed maps at 10m height</li>
                    </ol>
                </div>
            </div>

            <h3>15.3 Drone-Based Measurements</h3>
            <div class="drone-section">
                <h4>UAV Measurement Systems</h4>
                <div class="drone-grid">
                    <div class="drone-card">
                        <h5>Fixed-Wing UAV</h5>
                        <table class="drone-specs">
                            <tr><td>Type:</td><td>senseFly eBee X</td></tr>
                            <tr><td>Endurance:</td><td>90 minutes</td></tr>
                            <tr><td>Range:</td><td>50 km</td></tr>
                            <tr><td>Ceiling:</td><td>1,000 m</td></tr>
                            <tr><td>Payload:</td><td>‚Ä¢ 5-hole probe<br>‚Ä¢ IMU/GPS<br>‚Ä¢ T/RH sensors<br>‚Ä¢ Turbulence probe</td></tr>
                            <tr><td>Applications:</td><td>‚Ä¢ Vertical profiles<br>‚Ä¢ Spatial mapping<br>‚Ä¢ Wake transects</td></tr>
                        </table>
                    </div>
                    
                    <div class="drone-card">
                        <h5>Rotary-Wing UAV</h5>
                        <table class="drone-specs">
                            <tr><td>Type:</td><td>DJI Matrice 300</td></tr>
                            <tr><td>Endurance:</td><td>55 minutes</td></tr>
                            <tr><td>Range:</td><td>15 km</td></tr>
                            <tr><td>Ceiling:</td><td>500 m</td></tr>
                            <tr><td>Payload:</td><td>‚Ä¢ Sonic anemometer<br>‚Ä¢ LiDAR pod<br>‚Ä¢ HD cameras<br>‚Ä¢ Gas sensors</td></tr>
                            <tr><td>Applications:</td><td>‚Ä¢ Hovering measurements<br>‚Ä¢ Inspection<br>‚Ä¢ Emergency response</td></tr>
                        </table>
                    </div>
                </div>
                
                <div class="drone-safety">
                    <h5>Regulatory Compliance</h5>
                    <ul>
                        <li>BVLOS (Beyond Visual Line of Sight) authorization required</li>
                        <li>Coordination with air traffic control</li>
                        <li>Notice to Airmen (NOTAM) filing</li>
                        <li>Collision avoidance systems mandatory</li>
                        <li>Weather limitations: wind &lt;15 m/s, no precipitation</li>
                        <li>Exclusion zones around turbines (5D radius)</li>
                    </ul>
                </div>
            </div>

            <h3>15.4 Machine Learning for Measurement Enhancement</h3>
            <div class="ml-section">
                <h4>AI-Powered Data Processing</h4>
                <div class="ml-example">
                    <h5>Gap Filling with Neural Networks</h5>
                    <pre><code>import tensorflow as tf
from sklearn.preprocessing import StandardScaler
import numpy as np

class WindDataGapFiller:
    def __init__(self):
        self.model = self.build_model()
        self.scaler = StandardScaler()
        
    def build_model(self):
        model = tf.keras.Sequential([
            tf.keras.layers.LSTM(128, return_sequences=True),
            tf.keras.layers.Dropout(0.2),
            tf.keras.layers.LSTM(64, return_sequences=True),
            tf.keras.layers.Dropout(0.2),
            tf.keras.layers.LSTM(32),
            tf.keras.layers.Dense(16, activation='relu'),
            tf.keras.layers.Dense(1)
        ])
        
        model.compile(optimizer='adam', loss='mse', metrics=['mae'])
        return model
    
    def prepare_sequences(self, data, sequence_length=48):
        """Prepare sequences for LSTM training"""
        sequences = []
        targets = []
        
        for i in range(len(data) - sequence_length):
            seq = data[i:i+sequence_length]
            target = data[i+sequence_length]
            
            if not np.isnan(target):  # Only use complete targets
                sequences.append(seq)
                targets.append(target)
                
        return np.array(sequences), np.array(targets)
    
    def fill_gaps(self, data, gap_indices):
        """Fill gaps using trained model"""
        filled_data = data.copy()
        
        for idx in gap_indices:
            if idx >= 48:  # Need enough history
                sequence = filled_data[idx-48:idx]
                if not np.any(np.isnan(sequence)):
                    pred = self.model.predict(sequence.reshape(1, 48, 1))
                    filled_data[idx] = pred[0, 0]
                    
        return filled_data</code></pre>
                </div>
                
                <div class="ml-applications">
                    <h5>ML Applications in Wind Measurement</h5>
                    <ul>
                        <li><strong>Quality control:</strong> Anomaly detection using autoencoders</li>
                        <li><strong>Virtual met mast:</strong> Predict unmeasured heights using DNNs</li>
                        <li><strong>Sensor fusion:</strong> Combine multiple data sources optimally</li>
                        <li><strong>Nowcasting:</strong> 0-6 hour wind prediction from measurements</li>
                        <li><strong>Super-resolution:</strong> Enhance spatial resolution of measurements</li>
                        <li><strong>Classification:</strong> Atmospheric stability regime identification</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Section 16: Interactive Measurement Planning Tool -->
        <div class="section" id="planning-tool">
            <h2>16. Interactive Measurement Planning Tool</h2>
            
            <div class="planning-calculator">
                <h3>Campaign Configuration Calculator</h3>
                <div class="calc-inputs">
                    <div class="input-group">
                        <label>Project Size (MW):</label>
                        <input type="number" id="projectSize" value="500" min="50" max="5000">
                    </div>
                    <div class="input-group">
                        <label>Water Depth (m):</label>
                        <input type="number" id="waterDepth" value="30" min="5" max="200">
                    </div>
                    <div class="input-group">
                        <label>Distance from Shore (km):</label>
                        <input type="number" id="distanceShore" value="40" min="1" max="200">
                    </div>
                    <div class="input-group">
                        <label>Campaign Duration (months):</label>
                        <input type="number" id="duration" value="24" min="6" max="60">
                    </div>
                    <button onclick="calculateCampaign()">Calculate Optimal Configuration</button>
                </div>
                
                <div class="calc-results" id="campaignResults" style="display:none;">
                    <h4>Recommended Configuration</h4>
                    <div id="recommendationText"></div>
                    <canvas id="costBreakdownChart" width="400" height="300"></canvas>
                </div>
            </div>
        </div>

        <style>
            /* Additional styles for new sections */
            .equipment-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }
            
            .equipment-card {
                background: white;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            }
            
            .equipment-image {
                margin: 15px 0;
                border: 1px solid #e0e0e0;
            }
            
            .spec-table {
                width: 100%;
                font-size: 0.9em;
            }
            
            .spec-table td:first-child {
                font-weight: bold;
                width: 40%;
            }
            
            .timeline-item {
                display: flex;
                margin: 20px 0;
                position: relative;
            }
            
            .timeline-number {
                width: 40px;
                height: 40px;
                background: #0066cc;
                color: white;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                margin-right: 20px;
                flex-shrink: 0;
            }
            
            .timeline-content {
                flex: 1;
                background: #f8f9fa;
                padding: 15px;
                border-radius: 8px;
            }
            
            .time-estimate {
                color: #666;
                font-style: italic;
                margin-top: 10px;
            }
            
            .vessel-table, .weather-table, .comm-table {
                width: 100%;
                margin: 20px 0;
            }
            
            .safety-card {
                background: #fff3cd;
                padding: 15px;
                border-radius: 8px;
                margin: 10px 0;
            }
            
            .power-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }
            
            .power-card {
                background: #e8f4fd;
                padding: 15px;
                border-radius: 8px;
            }
            
            .issue-card {
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0,0,0,0.1);
                margin: 10px 0;
            }
            
            .symptoms, .solutions {
                font-weight: bold;
                color: #0066cc;
                margin-top: 10px;
            }
            
            .criteria-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 20px;
                margin: 20px 0;
            }
            
            .criteria-card {
                background: #f0f0f0;
                padding: 15px;
                border-radius: 8px;
            }
            
            .cost-table, .duration-table {
                width: 100%;
                margin: 20px 0;
            }
            
            .category-header {
                background: #e0e0e0;
                font-weight: bold;
                text-align: center;
            }
            
            .planning-calculator {
                background: #f8f9fa;
                padding: 20px;
                border-radius: 8px;
                margin: 20px 0;
            }
            
            .calc-inputs {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            
            .input-group label {
                display: block;
                margin-bottom: 5px;
                font-weight: bold;
            }
            
            .input-group input {
                width: 100%;
                padding: 5px;
                border: 1px solid #ddd;
                border-radius: 4px;
            }
            
            .diagnostic-code, .config-code {
                background: #2d2d2d;
                color: #f8f8f2;
                padding: 15px;
                border-radius: 5px;
                overflow-x: auto;
                margin: 15px 0;
            }
            
            .dashboard-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
                margin: 20px 0;
            }
            
            .dashboard-item {
                background: white;
                padding: 15px;
                border-radius: 8px;
                box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            }
        </style>

        <script>
            function calculateCampaign() {
                const size = document.getElementById('projectSize').value;
                const depth = document.getElementById('waterDepth').value;
                const distance = document.getElementById('distanceShore').value;
                const duration = document.getElementById('duration').value;
                
                // Simple logic for recommendations
                let recommendation = "";
                let costs = {};
                
                if (depth < 50 && distance < 50) {
                    recommendation = "Recommended: Fixed met mast with redundant sensors";
                    costs = {
                        'Met Mast': 2100000,
                        'Installation': 1200000,
                        'O&M': 292000 * (duration/12),
                        'Data Analysis': 100000
                    };
                } else {
                    recommendation = "Recommended: Floating LiDAR system";
                    costs = {
                        'FLS System': 3150000,
                        'Deployment': 500000,
                        'O&M': 428000 * (duration/12),
                        'Data Analysis': 150000
                    };
                }
                
                document.getElementById('recommendationText').innerHTML = `
                    <p><strong>${recommendation}</strong></p>
                    <p>Estimated total cost: $${Object.values(costs).reduce((a,b) => a+b, 0).toLocaleString()}</p>
                `;
                
                // Show results
                document.getElementById('campaignResults').style.display = 'block';
                
                // Create cost breakdown chart
                const ctx = document.getElementById('costBreakdownChart').getContext('2d');
                new Chart(ctx, {
                    type: 'pie',
                    data: {
                        labels: Object.keys(costs),
                        datasets: [{
                            data: Object.values(costs),
                            backgroundColor: ['#0066cc', '#4CAF50', '#FF9800', '#9C27B0']
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        plugins: {
                            title: {
                                display: true,
                                text: 'Cost Breakdown'
                            }
                        }
                    }
                });
            }

            // Initialize uncertainty chart
            setTimeout(() => {
                const ctx = document.getElementById('uncertaintyChart').getContext('2d');
                new Chart(ctx, {
                    type: 'line',
                    data: {
                        labels: ['0', '6', '12', '18', '24', '30', '36'],
                        datasets: [{
                            label: 'Total Uncertainty (%)',
                            data: [15, 12, 9, 7.5, 6.5, 6, 5.8],
                            borderColor: '#0066cc',
                            tension: 0.3
                        }, {
                            label: 'Financial Value ($M)',
                            data: [0, 15, 30, 37.5, 42, 45, 46],
                            borderColor: '#4CAF50',
                            yAxisID: 'y2',
                            tension: 0.3
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                title: {
                                    display: true,
                                    text: 'Uncertainty (%)'
                                }
                            },
                            y2: {
                                position: 'right',
                                title: {
                                    display: true,
                                    text: 'Value ($M)'
                                }
                            }
                        },
                        plugins: {
                            title: {
                                display: true,
                                text: 'Measurement Campaign Value vs Duration'
                            }
                        }
                    }
                });
            }, 100);
        </script>
    </div>

    <footer class="footer">
        <p>¬© 2024 Offshore Wind Analysis Textbook | Measurements Chapter</p>
        <p>
            <a href="theory.html">‚Üê Previous: Theory</a> | 
            <a href="modeling.html">Next: Modeling ‚Üí</a>
        </p>
    </footer>

    <script>
        // Chart.js visualizations
        document.addEventListener('DOMContentLoaded', function() {
            // Mast Configuration
            const mastCtx = document.getElementById('mastConfig').getContext('2d');
            
            // Draw mast schematic
            mastCtx.fillStyle = '#f0f0f0';
            mastCtx.fillRect(0, 0, 400, 300);
            
            // Mast
            mastCtx.fillStyle = '#666';
            mastCtx.fillRect(190, 50, 20, 200);
            
            // Booms and sensors
            const levels = [80, 120, 160, 200];
            const labels = ['100m', '80m', '60m', '40m'];
            
            levels.forEach((y, i) => {
                // Boom 1 (left)
                mastCtx.strokeStyle = '#333';
                mastCtx.lineWidth = 3;
                mastCtx.beginPath();
                mastCtx.moveTo(190, y);
                mastCtx.lineTo(100, y);
                mastCtx.stroke();
                
                // Boom 2 (right)
                mastCtx.beginPath();
                mastCtx.moveTo(210, y);
                mastCtx.lineTo(300, y);
                mastCtx.stroke();
                
                // Sensors
                mastCtx.fillStyle = '#2196f3';
                mastCtx.beginPath();
                mastCtx.arc(100, y, 5, 0, 2 * Math.PI);
                mastCtx.fill();
                mastCtx.beginPath();
                mastCtx.arc(300, y, 5, 0, 2 * Math.PI);
                mastCtx.fill();
                
                // Labels
                mastCtx.fillStyle = '#333';
                mastCtx.font = '12px Arial';
                mastCtx.fillText(labels[i], 320, y + 5);
            });
            
            // Title
            mastCtx.font = 'bold 14px Arial';
            mastCtx.fillText('Typical Offshore Met Mast Configuration', 100, 30);

            // Flow Distortion
            new Chart('flowDistortion', {
                type: 'line',
                data: {
                    labels: Array.from({length: 37}, (_, i) => i * 10),
                    datasets: [
                        {
                            label: 'Upwind',
                            data: Array.from({length: 37}, (_, i) => {
                                const angle = i * 10;
                                if (angle < 30 || angle > 330) return 0.98;
                                if (angle > 150 && angle < 210) return 1.05;
                                return 1.0;
                            }),
                            borderColor: 'rgb(76, 175, 80)'
                        },
                        {
                            label: 'Side-mounted',
                            data: Array.from({length: 37}, (_, i) => {
                                const angle = i * 10;
                                if (angle > 80 && angle < 100) return 0.96;
                                if (angle > 260 && angle < 280) return 0.96;
                                return 1.0;
                            }),
                            borderColor: 'rgb(33, 150, 243)'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Flow Distortion vs Wind Direction' }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Wind Direction (¬∞)' } },
                        y: { 
                            title: { display: true, text: 'Speed Ratio' },
                            min: 0.9,
                            max: 1.1
                        }
                    }
                }
            });

            // Platform Setup
            const platformCtx = document.getElementById('platformSetup').getContext('2d');
            platformCtx.fillStyle = '#f0f0f0';
            platformCtx.fillRect(0, 0, 400, 300);
            
            // Platform
            platformCtx.fillStyle = '#999';
            platformCtx.fillRect(100, 200, 200, 50);
            
            // Measurement levels
            const platformLevels = [
                {y: 180, label: '20m', x: 150},
                {y: 140, label: '40m', x: 200},
                {y: 100, label: '60m', x: 250},
                {y: 60, label: '80m', x: 200}
            ];
            
            platformCtx.strokeStyle = '#333';
            platformCtx.lineWidth = 2;
            
            platformLevels.forEach(level => {
                // Arms
                platformCtx.beginPath();
                platformCtx.moveTo(200, level.y);
                platformCtx.lineTo(level.x, level.y);
                platformCtx.stroke();
                
                // Sensors
                platformCtx.fillStyle = '#f44336';
                platformCtx.beginPath();
                platformCtx.arc(level.x, level.y, 4, 0, 2 * Math.PI);
                platformCtx.fill();
                
                // Labels
                platformCtx.fillStyle = '#333';
                platformCtx.font = '11px Arial';
                platformCtx.fillText(level.label, level.x + 10, level.y + 4);
            });
            
            // Sea level
            platformCtx.strokeStyle = '#2196f3';
            platformCtx.lineWidth = 2;
            platformCtx.beginPath();
            platformCtx.moveTo(0, 250);
            platformCtx.lineTo(400, 250);
            platformCtx.stroke();
            
            platformCtx.font = 'bold 14px Arial';
            platformCtx.fillText('Platform-based Measurements', 100, 30);

            // Buoy Motion
            new Chart('buoyMotion', {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => i * 0.1),
                    datasets: [
                        {
                            label: 'Heave',
                            data: Array.from({length: 100}, (_, i) => 
                                Math.sin(i * 0.628) * 1.5 + Math.sin(i * 0.314) * 0.5
                            ),
                            borderColor: 'rgb(255, 99, 132)',
                            borderWidth: 1,
                            pointRadius: 0
                        },
                        {
                            label: 'Pitch',
                            data: Array.from({length: 100}, (_, i) => 
                                Math.sin(i * 0.628 + 1) * 5 + Math.sin(i * 0.157) * 2
                            ),
                            borderColor: 'rgb(54, 162, 235)',
                            borderWidth: 1,
                            pointRadius: 0
                        }
                    ]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Typical Buoy Motion Time Series' }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Time (s)' } },
                        y: { title: { display: true, text: 'Displacement (m) / Angle (¬∞)' } }
                    }
                }
            });

            // LiDAR Geometry
            const lidarCtx = document.getElementById('lidarGeometry').getContext('2d');
            lidarCtx.fillStyle = '#f0f0f0';
            lidarCtx.fillRect(0, 0, 400, 300);
            
            // LiDAR unit
            lidarCtx.fillStyle = '#333';
            lidarCtx.fillRect(180, 250, 40, 30);
            
            // Laser beams
            lidarCtx.strokeStyle = '#f44336';
            lidarCtx.lineWidth = 2;
            
            const beamAngles = [-15, 0, 15]; // degrees
            beamAngles.forEach(angle => {
                lidarCtx.beginPath();
                lidarCtx.moveTo(200, 250);
                const rad = angle * Math.PI / 180;
                const x = 200 + 150 * Math.sin(rad);
                const y = 250 - 150 * Math.cos(rad);
                lidarCtx.lineTo(x, y);
                lidarCtx.stroke();
                
                // Measurement volumes
                for (let h = 50; h <= 150; h += 50) {
                    const mx = 200 + h * Math.sin(rad);
                    const my = 250 - h * Math.cos(rad);
                    lidarCtx.fillStyle = 'rgba(33, 150, 243, 0.5)';
                    lidarCtx.beginPath();
                    lidarCtx.arc(mx, my, 5, 0, 2 * Math.PI);
                    lidarCtx.fill();
                }
            });
            
            lidarCtx.fillStyle = '#333';
            lidarCtx.font = 'bold 14px Arial';
            lidarCtx.fillText('LiDAR Beam Configuration', 100, 30);

            // VAD Pattern
            const vadCtx = document.getElementById('vadPattern').getContext('2d');
            vadCtx.fillStyle = '#f0f0f0';
            vadCtx.fillRect(0, 0, 400, 300);
            
            // Draw cone
            vadCtx.strokeStyle = '#2196f3';
            vadCtx.lineWidth = 2;
            
            const centerX = 200;
            const centerY = 150;
            const radius = 80;
            
            // Scanning circle
            vadCtx.beginPath();
            vadCtx.arc(centerX, centerY, radius, 0, 2 * Math.PI);
            vadCtx.stroke();
            
            // Measurement points
            for (let angle = 0; angle < 360; angle += 30) {
                const rad = angle * Math.PI / 180;
                const x = centerX + radius * Math.cos(rad);
                const y = centerY + radius * Math.sin(rad);
                
                vadCtx.fillStyle = '#f44336';
                vadCtx.beginPath();
                vadCtx.arc(x, y, 4, 0, 2 * Math.PI);
                vadCtx.fill();
            }
            
            vadCtx.fillStyle = '#333';
            vadCtx.font = 'bold 14px Arial';
            vadCtx.textAlign = 'center';
            vadCtx.fillText('Velocity Azimuth Display (VAD)', centerX, 30);

            // FLS Validation
            new Chart('flsValidation', {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'FLS vs Mast',
                        data: Array.from({length: 100}, () => {
                            const mastSpeed = Math.random() * 20 + 2;
                            const flsSpeed = mastSpeed + (Math.random() - 0.5) * 2;
                            return {x: mastSpeed, y: flsSpeed};
                        }),
                        backgroundColor: 'rgba(33, 150, 243, 0.5)'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Floating LiDAR Validation' }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Mast Wind Speed (m/s)' },
                            min: 0,
                            max: 25
                        },
                        y: { 
                            title: { display: true, text: 'FLS Wind Speed (m/s)' },
                            min: 0,
                            max: 25
                        }
                    }
                }
            });

            // SODAR Beams
            const sodarCtx = document.getElementById('sodarBeams').getContext('2d');
            sodarCtx.fillStyle = '#f0f0f0';
            sodarCtx.fillRect(0, 0, 400, 300);
            
            // SODAR unit
            sodarCtx.fillStyle = '#666';
            sodarCtx.fillRect(150, 250, 100, 30);
            
            // Sound beams
            sodarCtx.strokeStyle = '#ff9800';
            sodarCtx.lineWidth = 2;
            
            const sodarBeams = [
                {x: 170, angle: -20},
                {x: 200, angle: 0},
                {x: 230, angle: 20}
            ];
            
            sodarBeams.forEach(beam => {
                sodarCtx.beginPath();
                sodarCtx.moveTo(beam.x, 250);
                const rad = beam.angle * Math.PI / 180;
                
                // Draw expanding cone
                for (let h = 0; h <= 150; h += 2) {
                    const spread = h * 0.15;
                    const x = beam.x + h * Math.sin(rad);
                    const y = 250 - h;
                    
                    sodarCtx.globalAlpha = 1 - h / 200;
                    sodarCtx.beginPath();
                    sodarCtx.arc(x, y, spread, 0, 2 * Math.PI);
                    sodarCtx.stroke();
                }
            });
            
            sodarCtx.globalAlpha = 1;
            sodarCtx.fillStyle = '#333';
            sodarCtx.font = 'bold 14px Arial';
            sodarCtx.textAlign = 'center';
            sodarCtx.fillText('SODAR Acoustic Beams', 200, 30);

            // Satellite Coverage
            const satCanvas = document.getElementById('satelliteCoverage');
            const satCtx = satCanvas.getContext('2d');
            
            // Create world map background
            satCtx.fillStyle = '#e3f2fd';
            satCtx.fillRect(0, 0, 400, 300);
            
            // Draw swath patterns
            satCtx.fillStyle = 'rgba(33, 150, 243, 0.3)';
            for (let x = -50; x < 400; x += 80) {
                satCtx.fillRect(x, 50, 60, 200);
            }
            
            satCtx.fillStyle = '#333';
            satCtx.font = 'bold 14px Arial';
            satCtx.textAlign = 'center';
            satCtx.fillText('Typical Satellite Swath Coverage', 200, 30);
            satCtx.font = '12px Arial';
            satCtx.fillText('Daily global coverage with ~25km resolution', 200, 270);

            // Satellite Accuracy
            new Chart('satelliteAccuracy', {
                type: 'scatter',
                data: {
                    datasets: [{
                        label: 'SAR vs Buoy',
                        data: Array.from({length: 80}, () => {
                            const buoySpeed = Math.random() * 20 + 2;
                            const sarSpeed = buoySpeed + (Math.random() - 0.5) * 3 + 0.5;
                            return {x: buoySpeed, y: sarSpeed};
                        }),
                        backgroundColor: 'rgba(255, 152, 0, 0.5)'
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Satellite vs In-Situ Wind Speed' }
                    },
                    scales: {
                        x: { 
                            title: { display: true, text: 'Buoy Wind Speed (m/s)' },
                            min: 0,
                            max: 25
                        },
                        y: { 
                            title: { display: true, text: 'SAR Wind Speed (m/s)' },
                            min: 0,
                            max: 25
                        }
                    }
                }
            });

            // Ocean Sensors
            new Chart('oceanSensors', {
                type: 'bar',
                data: {
                    labels: ['SST', 'Waves', 'Current', 'Salinity', 'Turbidity'],
                    datasets: [{
                        label: 'Measurement Depth (m)',
                        data: [-0.5, -1, -50, -1, -5],
                        backgroundColor: [
                            'rgba(255, 99, 132, 0.5)',
                            'rgba(54, 162, 235, 0.5)',
                            'rgba(255, 206, 86, 0.5)',
                            'rgba(75, 192, 192, 0.5)',
                            'rgba(153, 102, 255, 0.5)'
                        ]
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Typical Ocean Sensor Depths' }
                    },
                    scales: {
                        y: { 
                            title: { display: true, text: 'Depth below surface (m)' },
                            reverse: true
                        }
                    }
                }
            });

            // Range Test
            new Chart('rangeTest', {
                type: 'line',
                data: {
                    labels: Array.from({length: 100}, (_, i) => i),
                    datasets: [{
                        label: 'Wind Speed',
                        data: Array.from({length: 100}, (_, i) => {
                            const base = 10 + 3 * Math.sin(i * 0.1);
                            if (i === 45) return 45; // Spike
                            if (i === 78) return -2; // Out of range
                            return base + (Math.random() - 0.5) * 2;
                        }),
                        borderColor: 'rgb(33, 150, 243)',
                        pointRadius: 0
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Range Test Example' },
                        annotation: {
                            annotations: {
                                line1: {
                                    type: 'line',
                                    yMin: 0,
                                    yMax: 0,
                                    borderColor: 'rgb(255, 99, 132)',
                                    borderWidth: 2,
                                },
                                line2: {
                                    type: 'line',
                                    yMin: 30,
                                    yMax: 30,
                                    borderColor: 'rgb(255, 99, 132)',
                                    borderWidth: 2,
                                }
                            }
                        }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Time Index' } },
                        y: { 
                            title: { display: true, text: 'Wind Speed (m/s)' },
                            min: -5,
                            max: 50
                        }
                    }
                }
            });

            // Spike Test
            new Chart('spikeTest', {
                type: 'line',
                data: {
                    labels: Array.from({length: 50}, (_, i) => i),
                    datasets: [{
                        label: 'Temperature',
                        data: Array.from({length: 50}, (_, i) => {
                            const base = 15 + 2 * Math.sin(i * 0.2);
                            if (i === 25) return base + 8; // Spike
                            return base + (Math.random() - 0.5) * 0.5;
                        }),
                        borderColor: 'rgb(255, 152, 0)',
                        pointRadius: 1
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        title: { display: true, text: 'Spike Detection Example' }
                    },
                    scales: {
                        x: { title: { display: true, text: 'Time Index' } },
                        y: { title: { display: true, text: 'Temperature (¬∞C)' } }
                    }
                }
            });
        });
    </script>
    <!-- Modal for enlarged charts -->
    <div id="chartModal" class="modal">
        <div class="modal-content">
            <span class="modal-close">&times;</span>
            <div class="modal-canvas-container">
                <canvas id="modalCanvas"></canvas>
            </div>
        </div>
    </div>

    <script>
        // Modal functionality
        let modal = document.getElementById('chartModal');
        let modalCanvas = document.getElementById('modalCanvas');
        let modalClose = document.querySelector('.modal-close');
        let activeChart = null;

        // Function to open modal with chart
        function openChartModal(originalCanvas) {
            // Special handling for custom drawn canvases
            const customCanvases = ['mastConfig', 'platformSetup', 'ekmanSpiral', 'lidarGeometry', 'vadPattern', 'sodarBeams', 'satelliteCoverage', 'hodograph'];
            if (customCanvases.includes(originalCanvas.id)) {
                // For custom drawn canvases, just copy the image
                modal.style.display = 'block';
                modalCanvas.width = 800;
                modalCanvas.height = 600;
                const modalCtx = modalCanvas.getContext('2d');
                modalCtx.fillStyle = '#fff';
                modalCtx.fillRect(0, 0, modalCanvas.width, modalCanvas.height);
                modalCtx.drawImage(originalCanvas, 0, 0, modalCanvas.width, modalCanvas.height);
                return;
            }

            // Get the chart instance from the original canvas
            let originalChart = Chart.getChart(originalCanvas);
            if (!originalChart) return;

            modal.style.display = 'block';
            
            // Clone the chart configuration
            let config = JSON.parse(JSON.stringify(originalChart.config));
            
            // Adjust size for modal
            modalCanvas.width = 800;
            modalCanvas.height = 600;
            
            // Destroy previous chart if exists
            if (activeChart) {
                activeChart.destroy();
            }
            
            // Create new chart in modal
            activeChart = new Chart(modalCanvas, config);
        }

        // Close modal
        modalClose.onclick = function() {
            modal.style.display = 'none';
            if (activeChart) {
                activeChart.destroy();
                activeChart = null;
            }
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            if (event.target == modal) {
                modal.style.display = 'none';
                if (activeChart) {
                    activeChart.destroy();
                    activeChart = null;
                }
            }
        }

        // Add click handlers to all canvases after charts are loaded
        setTimeout(() => {
            document.querySelectorAll('canvas').forEach(canvas => {
                if (canvas.id !== 'modalCanvas') {
                    canvas.classList.add('clickable-chart');
                    canvas.addEventListener('click', function() {
                        openChartModal(this);
                    });
                }
            });
        }, 500);
    </script>
</body>
</html>